<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="AutoOS.Views.Settings.SchedulingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:dev="using:DevWinUI"
    xmlns:local="using:AutoOS"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:views="using:AutoOS.Views"
    mc:Ignorable="d">
    <ScrollView
        Margin="{ThemeResource ContentPageMargin}"
        Padding="{ThemeResource ContentPagePadding}"
        HorizontalAlignment="Stretch"
        VerticalScrollBarVisibility="Auto">
        <StackPanel
            Margin="10"
            dev:PanelAttach.ChildrenTransitions="Default"
            Spacing="5">
            <TextBlock
                Margin="7,-11,0,57"
                FontSize="28"
                FontWeight="SemiBold"
                Text="Per-CPU Scheduling" />
            <dev:SettingsGroup
                Description="Let AutoOS benchmark your GPU and XHCI Controller Affinities or set them manually. If your CPU has 6 or more cores they will be reserved."
                Header="Per-CPU Scheduling"
                HeaderIcon="{dev:BitmapIcon Source=Assets/Fluent/Cpu.png}">
                <dev:SettingsGroup.Content>
                    <dev:ProgressButton
                        x:Name="Benchmark"
                        HorizontalAlignment="Left"
                        Checked="Benchmark_Checked"
                        CheckedContent="Benchmarking..."
                        Content="Benchmark"
                        IsIndeterminate="True"
                        Style="{ThemeResource AccentProgressButtonStyle}"
                        Unchecked="Benchmark_Unchecked" />
                </dev:SettingsGroup.Content>
                <dev:SettingsGroup.Items>
                    <dev:SettingsCard Header="GPU Affinity">
                        <ComboBox x:Name="GPU" SelectionChanged="Gpu_Changed" />
                    </dev:SettingsCard>
                    <dev:SettingsCard Header="XHCI Controller Affinity">
                        <ComboBox x:Name="XHCI" SelectionChanged="Xhci_Changed" />
                    </dev:SettingsCard>
                </dev:SettingsGroup.Items>
            </dev:SettingsGroup>
            <StackPanel x:Name="AffinityInfo" />
            <Border Height="95" Background="Transparent" />
        </StackPanel>
    </ScrollView>
</Page>
